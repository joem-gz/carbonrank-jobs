# Task: Simplify CI Playwright E2E
Owner agent/tool: Codex CLI
Branch: agent/ci-e2e-smoke

## Scope
Will change:
- CI workflow to ensure Playwright browsers install reliably.
- E2E runner + tests for headless toggle and smoke targeting.
- Limit PR E2E to a smoke test and nightly E2E to chromium headless.
Wonâ€™t change:
- Application/runtime behavior outside CI.
- Non-E2E test workflows unless required for CI simplification.

## Files likely touched
- `.github/workflows/ci.yml`
- `scripts/run_e2e.mjs`
- `tests/e2e/annotates_cards.spec.ts`
- `tests/e2e/page_score_jobposting.spec.ts`
- `tests/e2e/search_page.spec.ts`

## Success criteria
- CI installs Playwright browsers before running E2E.
- PR CI runs only `tests/e2e/annotates_cards.spec.ts` as smoke.
- Nightly schedule runs chromium headless E2E.

## Plan (short)
- Review current CI workflow and Playwright setup.
- Adjust CI jobs/steps for install + scope.
- Document changes and validation.

## Validation (commands)
- Not run (CI-only change).

## Risks / edge cases
- Workflow changes may affect caching or job matrix.

## Decisions / notes
- Keep changes minimal and focused on E2E reliability.
